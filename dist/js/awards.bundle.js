(()=>{"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.setupEvents(),this.initialize()}var i,n,a;return i=e,(n=[{key:"initialize",value:function(){this.preWidth=window.innerWidth;var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px")),this.hasHover=window.matchMedia("(hover: hover)").matches}},{key:"setupEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){var t=window.innerWidth;this.preWidth!==t&&(this.preWidth=t,this.initialize())}}])&&t(i.prototype,n),a&&t(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}(),i=["../../dist/assets/images/awards/1.jpg","../../dist/assets/images/awards/2.jpg","../../dist/assets/images/awards/3.jpg","../../dist/assets/images/awards/4.jpg","../../dist/assets/images/awards/5.jpg","../../dist/assets/images/awards/6.jpg","../../dist/assets/images/awards/7.jpg"];function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.load=document.getElementById("js-load"),this.slider=document.getElementById("js-slider"),this.counter=document.getElementById("js-counter"),this.imagePaths=i,this.loadedNumber=0,this.num=0,this.time=Date.now()}var e,a,s;return e=t,(a=[{key:"initialize",value:function(){var t=this;return new Promise((function(e,i){t.loadImages(e,i)}))}},{key:"loadImages",value:function(t,e){for(var i=this,n=0;n<this.imagePaths.length;n++){var a=this.imagePaths[n],s=new Image;s.src=a,s.addEventListener("load",(function(){i.drawCounterNumber(i.loadedNumber++,i.imagePaths.length),i.loadedNumber===i.imagePaths.length&&(Date.now()-i.time<800?i.drawLoopCounterNumber(t,e):i.addClass(t,e))}))}}},{key:"addClass",value:function(t,e){var i=this;this.delay(400).then((function(){i.counter.classList.add("images-loaded"),i.delay(800).then((function(){i.counter.classList.add("finished"),i.counter.innerHTML='<span>1</span><span>0</span><span>0</span><span id="js-last-span">%</span>',document.getElementById("js-last-span").addEventListener("animationend",(function(){i.load.classList.add("loaded"),t()}))}))}))}},{key:"drawCounterNumber",value:function(t,e){var i=-(Math.cos(Math.PI*(t/(e-1)))-1)/2,n=Math.ceil(100*i);1===n.toString().length&&(n="00"+n),2===n.toString().length&&(n="0"+n),this.counter.textContent=n+"%"}},{key:"drawLoopCounterNumber",value:function(t,e){this.drawCounterNumber(this.num++,100),100!==this.num?this.animationID=requestAnimationFrame(this.drawLoopCounterNumber.bind(this,t,e)):this.cancelDrawLoopCounterNumber(t,e)}},{key:"cancelDrawLoopCounterNumber",value:function(t,e){cancelAnimationFrame(this.animationID),this.addClass(t,e)}},{key:"delay",value:function(t){return new Promise((function(e,i){setTimeout((function(){e()}),t)}))}}])&&n(e.prototype,a),s&&n(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupCanvas(),this.setupEvents(),this.initialize()}var e,i,n;return e=t,(i=[{key:"setupCanvas",value:function(){this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.canvas.style.position="fixed",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.minHeight="100vh",this.canvas.style.minHeight="calc(var(--vh, 1vh) * 100)",this.canvas.style.display="block",this.canvas.style.background="#FFF",this.canvas.style.zIndex="-1"}},{key:"setupEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){this.preWidth!==window.innerWidth&&this.initialize()}},{key:"initialize",value:function(){this.animationId&&cancelAnimationFrame(this.animationId),this.hasHover=window.matchMedia("(hover: hover)").matches,this.setupSizes(),this.draw()}},{key:"setupSizes",value:function(){this.width=this.preWidth=this.canvas.width=window.innerWidth,this.height=this.canvas.height=window.innerHeight}},{key:"draw",value:function(){this.ctx.save(),this.ctx.translate(this.width/2,this.height/2),this.ctx.beginPath(),this.ctx.arc(0,0,100,0,2*Math.PI,!1),this.ctx.fill(),this.ctx.restore()}}])&&s(e.prototype,i),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.addEventListener("load",(function(){new e,(new a).initialize().then((function(){new o}))}))})();