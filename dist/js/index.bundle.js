!function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=0,this.y=0,this.angle=0,this.scale=0,this.length=0,this.centerAngle=0,this.rotationRange=Math.PI/4,this.parent=null,this.phaseOffset=0}var i,n,a;return i=e,(n=[{key:"create",value:function(t,i,n,a,s){var h=new e;return h.initialize(t,i,n,a,s),h}},{key:"initialize",value:function(t,e,i,n,a){this.length=t,this.centerAngle=e,this.rotationRange=i,this.phaseOffset=n,this.scale=a}},{key:"setPhase",value:function(t){this.angle=this.centerAngle+Math.sin(t+this.phaseOffset)*this.rotationRange}},{key:"getEndX",value:function(){for(var t=this.angle,e=this.parent;e;)t+=e.angle,e=e.parent;return Math.cos(t)*this.length+this.x}},{key:"getEndY",value:function(){for(var t=this.angle,e=this.parent;e;)t+=e.angle,e=e.parent;return Math.sin(t)*this.length+this.y}},{key:"render",value:function(t,e,i,n,a){this.scale=Math.abs(this.y/window.innerHeight),this.y=Math.sin(.001*this.x+i)*n*this.scale+this.y,t.save(),t.fillStyle=t.strokeStyle=0===a?"deeppink":"black",t.lineCap="round",t.lineWidth=n*this.scale,null===this.parent&&0===e&&(t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x,this.y-this.length),t.stroke(),t.beginPath(),t.arc(this.x,this.y-this.length,100*this.scale,0,2*Math.PI,!1),t.fill(),t.save(),t.globalAlpha=.03,t.translate(this.x,this.y+2*this.length),t.scale(2,.5),t.translate(-this.x,-this.y-2*this.length),t.beginPath(),t.arc(this.x,this.y+2*this.length,3*this.length*this.scale,0,2*Math.PI,!1),t.fill(),t.restore()),t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.getEndX(),this.getEndY()),t.stroke(),t.restore()}}])&&t(i.prototype,n),a&&t(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}();function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n=function(){function t(e,i,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialize(e,i,n,a)}var n,a,s;return n=t,(a=[{key:"initialize",value:function(t,e,i,n){this.x=t,this.y=e,this.v=i,this.lastArm=null,this.phase=0,this.speed=.2*n+.1,this.arms=[]}},{key:"addArm",value:function(t,i,n,a,s){var h=(new e).create(t,i,n,a,s);this.arms.push(h),this.lastArm&&(h.parent=this.lastArm),this.lastArm=h,this.update()}},{key:"update",value:function(){for(var t=0;t<this.arms.length;t++){var e=this.arms[t];e.setPhase(this.phase),e.parent?(e.x=e.parent.getEndX(),e.y=e.parent.getEndY()):(e.x=this.x,e.y=this.y)}this.phase+=this.speed}},{key:"updatePosition",value:function(){this.x+=this.v,this.x>window.innerWidth+100&&(this.x=-100),this.x<-100&&(this.x=window.innerWidth+100)}},{key:"rotateArm",value:function(t,e){this.arms[t].angle=e}},{key:"render",value:function(t,e,i,n){for(var a=0;a<this.arms.length;a++)this.arms[a].render(t,a,e,i,n)}}])&&i(n.prototype,a),s&&i(n,s),Object.defineProperty(n,"prototype",{writable:!1}),t}();function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupCanvas(),this.setupEvents(),this.initialize()}var e,i,s;return e=t,(i=[{key:"setupCanvas",value:function(){document.body.appendChild(document.createElement("canvas")).setAttribute("id","sketch"),this.canvas=document.getElementById("sketch"),this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.zIndex="-1",this.canvas.style.display="block",this.canvas.style.width="100%",this.canvas.style.height="50%",this.canvas.style.background="#262830"}},{key:"setupEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){this.initialize()}},{key:"initialize",value:function(){this.animationId&&cancelAnimationFrame(this.animationId),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width=Math.ceil(window.innerWidth),this.height=this.canvas.height=Math.ceil(window.innerHeight/2),this.setupRunners(),this.draw(0)}},{key:"setupRunners",value:function(){this.runners=[],this.numberOfRunners=this.width>768?100:50,this.tall=50;for(var t=0;t<this.numberOfRunners;t++){var e=this.width*Math.random(),i=this.height*Math.random()*Math.random(),a=i/this.height,s=10,h=Math.max(Math.random(),.3);Math.random()<.5&&(s*=-1);var r=new n(e,i,s*a,h*a),l=new n(e,i,s*a,h*a);l.phase=Math.PI,s<0?(r.addArm(this.tall*a,Math.PI/2,Math.PI/4,0,a),r.addArm(this.tall*a,-.87,.87,-1.5,a),l.addArm(this.tall*a,Math.PI/2,Math.PI/4,0,a),l.addArm(this.tall*a,-.87,.87,-1.5,a)):(r.addArm(this.tall*a,Math.PI/2,Math.PI/4,0,a),r.addArm(this.tall*a,.87,.87,-1.5,a),l.addArm(this.tall*a,Math.PI/2,Math.PI/4,0,a),l.addArm(this.tall*a,.87,.87,-1.5,a)),this.runners.push([r,l])}}},{key:"draw",value:function(t){this.ctx.clearRect(0,0,this.width,this.height);for(var e=0;e<this.runners.length;e++)for(var i=0;i<this.runners[e].length;i++)this.runners[e][i].render(this.ctx,.001*t,this.tall,e),this.runners[e][i].update(),this.runners[e][i].updatePosition();this.animationId=requestAnimationFrame(this.draw.bind(this))}}])&&a(e.prototype,i),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.addEventListener("DOMContentLoaded",(function(){new s,document.getElementsByClassName("loading")[0].classList.add("loaded")}))}();