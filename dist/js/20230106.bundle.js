(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(s=a.key,r=void 0,r=function(e,i){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,i||"default");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(s,"string"),"symbol"===t(r)?r:String(r)),a)}var s,r}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupEvents(),this.initialize()}var i,n,a;return i=t,(n=[{key:"initialize",value:function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))}},{key:"setupEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){this.initialize()}}])&&e(i.prototype,n),a&&e(i,a),Object.defineProperty(i,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(s=a.key,r=void 0,r=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"),"symbol"===n(r)?r:String(r)),a)}var s,r}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.load=document.getElementsByClassName("loading")[0],this.line=document.getElementsByClassName("loading-line")[0],this.counter=document.getElementsByClassName("loading-counter")[0],this.data=e,this.loadedNumber=1,this.percentage=0,this.num=0}var e,i,n;return e=t,(i=[{key:"initialize",value:function(){var t=this;return new Promise((function(e,i){t.delay(1200).then((function(){t.loadImages(e,i)}))}))}},{key:"loadImages",value:function(t,e){for(var i=this,n=0;n<this.data.length;n++){var a=this.data[n].imagePath,s=new Image;s.src=a,s.addEventListener("load",(function(){i.percentage=i.getPercentage(i.loadedNumber++)}))}this.drawPercentage(t,e)}},{key:"getPercentage",value:function(t){return Math.floor(t/this.data.length*100)}},{key:"drawPercentage",value:function(t,e){this.num<this.percentage&&(this.num+=2),this.line.style.width=this.num+"%",this.counter.textContent=this.num,100!==this.num?this.animationID=requestAnimationFrame(this.drawPercentage.bind(this,t,e)):this.cancelDrawLoopCounterNumber(t,e)}},{key:"cancelDrawLoopCounterNumber",value:function(t,e){cancelAnimationFrame(this.animationID),this.addClass(t,e)}},{key:"addClass",value:function(t,e){var i=this;this.delay(400).then((function(){i.load.classList.add("loading-loaded"),i.line.classList.add("loading-loaded"),i.counter.classList.add("loading-loaded"),i.delay(400).then((function(){t(i.data)}))}))}},{key:"delay",value:function(t){return new Promise((function(e,i){setTimeout((function(){e()}),t)}))}}])&&a(e.prototype,i),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(a=n.key,s=void 0,s=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"),"symbol"===r(s)?s:String(s)),n)}var a,s}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupCanvas(),this.setupEvents(),this.initialize()}var e,i,n;return e=t,(i=[{key:"setupCanvas",value:function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.ariaLabel="This is hilbert curve.",this.canvas.role="img",this.canvas.style.position="fixed",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.minHeight="100vh",this.canvas.style.minHeight="calc(var(--vh, 1vh) * 100)",this.canvas.style.display="block",this.canvas.style.background="#000000",this.canvas.style.zIndex="-1",document.body.appendChild(this.canvas)}},{key:"setupEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){if(this.preWidth===window.innerWidth)return this.height=this.canvas.height=window.innerHeight,void(this.halfHeight=this.height/2);this.initialize()}},{key:"initialize",value:function(){this.animationId&&cancelAnimationFrame(this.animationId),this.width=this.preWidth=this.canvas.width=window.innerWidth,this.height=this.canvas.height=window.innerHeight,this.shapes=[],this.depth=5,this.length=Math.min(this.width/33,this.height/33),this.angle=0,this.radian=0,this.startX=31*-this.length/2,this.startY=31*-this.length/2,this.fractal(90,this.depth),this.render()}},{key:"fractal",value:function(t,e){e>0&&(this.turn(t),this.fractal(-t,e-1),this.getCoordinates(length),this.turn(-t),this.fractal(t,e-1),this.getCoordinates(length),this.fractal(t,e-1),this.turn(-t),this.getCoordinates(length),this.fractal(-t,e-1),this.turn(t))}},{key:"turn",value:function(t){this.angle+=t}},{key:"getCoordinates",value:function(){var t={};t.r=this.angle*Math.PI/180,t.x=Math.cos(t.r)*this.length+this.startX,t.y=Math.sin(t.r)*this.length+this.startY,t.mx=Math.cos(t.r)*(this.length/2)+this.startX,t.my=Math.sin(t.r)*(this.length/2)+this.startY,t.d=Math.sqrt(t.x*t.x+t.y*t.y),t.a=Math.atan2(t.ny,t.nx),t.sx=this.startX,t.sy=this.startY,this.shapes.push(t),this.startX=t.x,this.startY=t.y}},{key:"getRandomNumber",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"norm",value:function(t,e,i){return(t-e)/(i-e)}},{key:"lerp",value:function(t,e,i){return(i-e)*t+e}},{key:"map",value:function(t,e,i,n,a){return this.lerp(this.norm(t,e,i),n,a)}},{key:"ease",value:function(t){var e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2}},{key:"render",value:function(t){t*=5e-4,this.ctx.save(),this.ctx.clearRect(0,0,this.width,this.height),this.ctx.translate(this.width/2,this.height/2),this.ctx.lineWidth=.5*this.length,this.ctx.lineCap="square",this.ctx.globalCompositeOperation="lighter";for(var e=0;e<3;e++){0===e&&(this.ctx.strokeStyle="#FF0000"),1===e&&(this.ctx.strokeStyle="#00FF00"),2===e&&(this.ctx.strokeStyle="#0000FF");for(var i=0;i<this.shapes.length;i++){var n=this.ease((t-e/3*.1-this.shapes[i].d/this.width/1/Math.PI*2)%1),a=void 0;a=n<.5?this.map(n,0,.5,0,Math.PI):Math.PI,this.ctx.save(),this.ctx.translate(this.shapes[i].mx,this.shapes[i].my),this.ctx.rotate(a),this.ctx.translate(-this.shapes[i].mx,-this.shapes[i].my),this.ctx.beginPath(),this.ctx.moveTo(this.shapes[i].sx,this.shapes[i].sy),this.ctx.lineTo(this.shapes[i].x,this.shapes[i].y),this.ctx.stroke(),this.ctx.restore()}}this.ctx.restore(),this.animationId=requestAnimationFrame(this.render.bind(this))}}])&&o(e.prototype,i),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.addEventListener("load",(function(){new i,new s([{imagePath:"../../dist/assets/images/dammy.png"}]).initialize().then((function(){new h}))}))})();