(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(s=a.key,r=void 0,r=function(e,i){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,i||"default");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(s,"string"),"symbol"===t(r)?r:String(r)),a)}var s,r}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupEvents(),this.initialize()}var i,n,a;return i=t,(n=[{key:"initialize",value:function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))}},{key:"setupEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){this.initialize()}}])&&e(i.prototype,n),a&&e(i,a),Object.defineProperty(i,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(s=a.key,r=void 0,r=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"),"symbol"===n(r)?r:String(r)),a)}var s,r}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.load=document.getElementsByClassName("loading")[0],this.line=document.getElementsByClassName("loading-line")[0],this.counter=document.getElementsByClassName("loading-counter")[0],this.data=e,this.loadedNumber=1,this.percentage=0,this.num=0}var e,i,n;return e=t,(i=[{key:"initialize",value:function(){var t=this;return new Promise((function(e,i){t.delay(1200).then((function(){t.loadImages(e,i)}))}))}},{key:"loadImages",value:function(t,e){for(var i=this,n=0;n<this.data.length;n++){var a=this.data[n].imagePath,s=new Image;s.src=a,s.addEventListener("load",(function(){i.percentage=i.getPercentage(i.loadedNumber++)}))}this.drawPercentage(t,e)}},{key:"getPercentage",value:function(t){return Math.floor(t/this.data.length*100)}},{key:"drawPercentage",value:function(t,e){this.num<this.percentage&&(this.num+=2),this.line.style.width=this.num+"%",this.counter.textContent=this.num,100!==this.num?this.animationID=requestAnimationFrame(this.drawPercentage.bind(this,t,e)):this.cancelDrawLoopCounterNumber(t,e)}},{key:"cancelDrawLoopCounterNumber",value:function(t,e){cancelAnimationFrame(this.animationID),this.addClass(t,e)}},{key:"addClass",value:function(t,e){var i=this;this.delay(400).then((function(){i.load.classList.add("loading-loaded"),i.line.classList.add("loading-loaded"),i.counter.classList.add("loading-loaded"),i.delay(400).then((function(){t(i.data)}))}))}},{key:"delay",value:function(t){return new Promise((function(e,i){setTimeout((function(){e()}),t)}))}}])&&a(e.prototype,i),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(a=n.key,s=void 0,s=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"),"symbol"===r(s)?s:String(s)),n)}var a,s}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupCanvas(),this.setupEvents(),this.initialize()}var e,i,n;return e=t,(i=[{key:"setupCanvas",value:function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.ariaLabel="The three circles red, blue and green are transforming.",this.canvas.role="img",this.canvas.style.position="fixed",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.minHeight="100vh",this.canvas.style.minHeight="calc(var(--vh, 1vh) * 100)",this.canvas.style.display="block",this.canvas.style.background="#000000",this.canvas.style.zIndex="-1",document.body.appendChild(this.canvas)}},{key:"setupEvents",value:function(){window.addEventListener("resize",this.onResize.bind(this),!1)}},{key:"onResize",value:function(){if(this.preWidth===window.innerWidth)return this.height=this.canvas.height=window.innerHeight,void(this.halfHeight=this.height/2);this.initialize()}},{key:"initialize",value:function(){this.animationId&&cancelAnimationFrame(this.animationId),this.width=this.preWidth=this.canvas.width=window.innerWidth,this.height=this.canvas.height=window.innerHeight,this.size=Math.min(this.width/4,this.height/4),this.shapes=[];for(var t=0;t<360;t++){var e={};e.r=t/360*Math.PI*2,e.x=Math.cos(e.r)*this.size,e.y=Math.sin(e.r)*this.size,e.a=Math.atan2(e.y,e.x),this.shapes.push(e)}this.render()}},{key:"render",value:function(t){t*=.0025,this.ctx.save(),this.ctx.clearRect(0,0,this.width,this.height),this.ctx.translate(this.width/2,this.height/2),this.ctx.rotate(t),this.ctx.globalCompositeOperation="lighter";for(var e=0;e<3;e++){0===e&&(this.ctx.fillStyle="#FF0000"),1===e&&(this.ctx.fillStyle="#00FF00"),2===e&&(this.ctx.fillStyle="#0000FF");for(var i=0;i<this.shapes.length;i++){this.ctx.save();var n=Math.sin(Math.cos(this.shapes[i].a*(6*Math.sin(.1*t)))-t-.04*e),a=this.shapes[i].x*n,s=this.shapes[i].y*n;this.ctx.translate(this.shapes[i].x,this.shapes[i].y),this.ctx.rotate(Math.sin(.5*t)*n),this.ctx.translate(-this.shapes[i].x,-this.shapes[i].y),0===i?(this.ctx.beginPath(),this.ctx.moveTo(a,s)):this.ctx.lineTo(a,s),i===this.shapes.length-1&&(this.ctx.closePath(),this.ctx.fill()),this.ctx.restore()}}this.ctx.restore(),this.animationId=requestAnimationFrame(this.render.bind(this))}}])&&o(e.prototype,i),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();window.addEventListener("load",(function(){new i,new s([{imagePath:"../../dist/assets/images/dammy.png"}]).initialize().then((function(){new h}))}))})();